version: '3.9'
services:
  router1:
    build: Ubuntu18.04
#    pid: host
    tty: true
    privileged: true
    sysctls:
      - net.ipv4.conf.all.forwarding=1
      - net.ipv4.conf.all.rp_filter=0
      - net.ipv6.conf.all.forwarding=1
      - net.ipv6.conf.all.disable_ipv6=0
      - net.ipv6.conf.all.seg6_enabled=1
      - net.ipv4.conf.default.forwarding=1
      - net.ipv4.conf.default.rp_filter=0
      - net.ipv6.conf.default.forwarding=1
      - net.ipv6.conf.default.disable_ipv6=0
      - net.ipv6.conf.default.seg6_enabled=1
  router2:
    build: Ubuntu18.04
#    pid: host
    tty: true
    privileged: true
    sysctls:
      - net.ipv4.conf.all.forwarding=1
      - net.ipv4.conf.all.rp_filter=0
      - net.ipv6.conf.all.forwarding=1
      - net.ipv6.conf.all.disable_ipv6=0
      - net.ipv6.conf.all.seg6_enabled=1
      - net.ipv4.conf.default.forwarding=1
      - net.ipv4.conf.default.rp_filter=0
      - net.ipv6.conf.default.forwarding=1
      - net.ipv6.conf.default.disable_ipv6=0
      - net.ipv6.conf.default.seg6_enabled=1
  node1:
    build: Ubuntu18.04
#    pid: host
    tty: true
    privileged: true
    sysctls:
      - net.ipv6.conf.all.disable_ipv6=0
      - net.ipv6.conf.default.disable_ipv6=0
  node2:
    build: Ubuntu18.04
#    pid: host
    tty: true
    privileged: true
    sysctls:
      - net.ipv6.conf.all.disable_ipv6=0
      - net.ipv6.conf.default.disable_ipv6=0